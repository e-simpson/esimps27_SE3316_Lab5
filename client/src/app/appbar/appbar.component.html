<div class="appbar">
    <div class="barComponent" style="width:80px;">
        <img style="padding: 12px; float: left; width:100%;" src="assets/nasaicon.png">
    </div>

    <div class="barComponent">
        <div class="appbartitle">NASA Gallery</div>
    </div>

    <div class="barComponent" *ngIf="this._sharedData.getSignInState()">
        <nav class="grey" style="height: 40px; width: 300px; float: right; border-radius: 25px;">
            <div class="nav-wrapper">
                <div class="input-field" style="height: 40px;">
                    <input (keyup.enter)="sendSearch(search.value)" style="height: 40px; border-radius: 25px;" #search id="search" autocomplete="off" type="search" required>
                    <label class="label-icon" style="margin-top: -10px;" for="search"><i class="material-icons">search</i></label>
                </div>
            </div>
        </nav>
    </div>


    <div class="barComponent">
        <button class="waves-effect waves-light btn-flat" style="float: right; padding-bottom: 5px;" *ngIf="!this._sharedData.getSignInState() && !this._sharedData.getSignInDisplayed()" type="submit" name="action" (click)="toggleSignIn()">Sign in</button>
    </div>
    <div class="barComponent">
        <button class="waves-effect waves-light btn-flat" style="float: right; padding-bottom: 5px;" *ngIf="this._sharedData.getSignInState()" type="submit" name="action" (click)="toggleSignInState()">Sign out</button>
    </div>
</div>

<div *ngIf="searchResults.length > 0" style="padding: 40px; background-color: #e8e8e8">
    <a style="font-size:2.3em; color: #fc3d21;">{{this.searchResults.length}} Results</a>
    <button class="waves-effect waves-light btn-flat" style="margin-top:10px; color: #fc3d21; float: right;" type="submit" (click)="resetSearch()">Close search results</button>

    <div style="float:center; padding:20px;" class="row">
        <div *ngFor="let number of pagesArray" style="width:50px; padding-left: 20px; padding-left: 20px" class="col s2">
            <button *ngIf="number == this.currentPage" class="waves-effect waves-light btn-flat col" style="color: #fc3d21; font-weight: bold;" type="submit" (click)="changeSearchPage(number)">[{{number}}]</button>
            <button *ngIf="number != this.currentPage" class="waves-effect waves-light btn-flat col" type="submit" (click)="changeSearchPage(number)">{{number}}</button>
        </div>
    </div>


    <div class="row" style="padding:0px; margin:0px; width: 100%; float:center;">
        <div style="height: auto; width: 100%; overflow: auto" align="center">
            <div *ngFor="let result of (searchResults.slice((this.currentPage-1)*10, (this.currentPage)*10))" class="paper" style="display: inline-block; height: auto; width:auto; padding: 0px; margin: 10px;">

                <div class="row">
                    <a target="_blank" href={{result.link}}>
                        <img src={{result.link}} class="materialboxed" style="height: auto;width: auto;max-width: 300px; max-height: 300px; padding:10px; padding-bottom: 0px; margin-bottom: -15px;">
                    </a>
                </div>

                <div class="row" style="padding: 10px; padding-top: 0px; padding-bottom: 0px; margin:0px; width:100%;">
                    <a style="font-size:1em; color: black; text-align:left; float: left;">{{result.title}}</a>
                    <a style="font-size:1em; color: grey; text-align:left; float: right;">{{result.date}}</a>
                </div>

                <div class="row" style="padding: 0px; margin:0px;">
                    <button *ngIf="!(this.photoToAdd == result.link)" class="waves-effect waves-light btn-flat" style="color: #4286F4;" (click)="setAddingToLink(result.link)">Add to collection</button>

                    <div class="row" *ngIf="(this.photoToAdd == result.link)" style="padding: 0px; margin:0px;">

                        <button class="waves-effect waves-light btn-flat" style="color: #fc3d21;" (click)="setAddingToLink(result.link)">Cancel add to collection</button>

                        <div *ngFor="let ownedcol of this.ownedCollections">
                            <button class="waves-effect waves-light btn-flat" style="color: #4286F4;" (click)="addImageFromCollection(ownedcol.id, result.link)">{{ownedcol.name}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
</div>
